% !TEX root = ../thesis.tex

\chapter{Design of the Learning Environment}
\label{chap:design}

In this section all implementation tools and approaches are explained.
First our used framework will be explained, then how our different scenes and objects are generated and
at last how these two are combined to our final solution.

\section{Phaser 3}
%https://labs.phaser.io/
%https://phaser.io/
%https://photonstorm.github.io/phaser3-docs/

\subsection{Scenes}
\subsection{Managers}
\section{Object generation}
Our objects can have up to four properties with at maximum one from each of the following categories:
\begin{itemize}
    \item Geometrical shape (square, triangle, circle, ellipse, rhombus, octagon)
    \item Color (yellow, orange, red, purple, green, blue)
    \item Holes or dots (one, two, three, four, five, six)
    \item Filling (filled, striped, dotted)
\end{itemize}

We need all possible objects with one, three and four properties.

With a python script [EXAMPLE] scalable vector graphic (SVG) files are generated [EXAMPLE].
After that they are converted to portable network graphic (PNG) files with the GNU image manipulation program (GIMP),
so that they can be imported into Phaser.

\section{Introduction Animation Generation}
To produce animated instruction for the task later on,
the screen is recorded with OBS Studio while someone (here me) is playing the game.
Parts of the final video are then taken for the respective scenes and converted into single pictures.
These single pictures are saved in one picture (called spreadsheet [EXAMPLE]).
The phaser framework animates those spreadsheets.

\section{Concept of the Learning Environment}
Through the boundary conditions and requirements of the learning environment,
we split our environment into multiple parts or here called scenes.

\subsection{Drop Down Menu}
Throughout the whole experience, the user can open a menu with a button.
This button is always visible.
Once the menu is open, the user may close the menu and return to the current scene,
exit the current scene and return to the level menu and go into fullscreen and back.
The current scene is paused while the menu is open as it can be distracting for the user,
if suddenly something pops up and covers parts of the visible and running scene.

\subsection{Welcome Screen}
The welcome screen is the starting point of the user experience.
Through this screen the user will be greeted by showing the name of the game.
Through a click he shall commence to the level menu.

\subsection{Level Menu}
In the level menu, the user is able to choose between different levels and games.
He can also access the object summary and track his progress/score.
The progress of each individual level is shown on the respective buttons.

\subsection{Object summary}
The Object summary allows the user to get a feeling for all the different properties an object can have.
For that reason the number of objects per category is restricted to five, as there are over 1000 different objects.
Objects are draggable and sortable by each category with a click on a respective button.

\subsection{Sorting with one category}
Here the user has to sort the static objects with one category by the given category.
As the user should be able to experience all categories, they are split into different levels.
Each level represents a category.
For motivation, the user can track his progress.
The Progress is defined by objects sorted the right and the wrong way.

The amount of objects to sort, as well as the amount of properties of the category
is randomly selected each time you start the game.

\subsection{Sorting with one category under difficult conditions}
Here the user has to sort falling objects with one category by the given category.
As the user should be able to experience all categories, they are split into different level.
Each level represents a category.
For motivation, the user can track his progress.
The progress is defined by objects missed, sorted the right and the wrong way.
To make the task harder, dummy objects are added.
Those objects look similar to the original ones but with a succinct characteristic.
There are no negative points for missing such an object but negative points for sorting them in any way.

The amount of falling objects to sort, as well as the amount of properties of the category
is randomly selected each time you start the game.

\subsection{Sorting with restricted space}
In this scene the user has to sort a given number of objects with all properties shown into boxes with limited space.
The objects in one box must have at least one property incommon and
can be put into the box and taken out an infinite amount of times.

To make the game more difficult, this level is split into two.
The first has boxes with the size 6, 4, 2 and the second boxes with the size 6, 5, 4.
%E.g. For the category colors: In the end, box 1 contains 6 objects that are blue, box 2 contains 4 objects
%that are yellow and box 3 contains 2 obejcts that are red. In total there are 12 objects.
%The objects are random generated, so that at least one category fits.
%The possibility of cross category matching is considered and will also count.
%E.g. In the end, box 1 containt 6 objects that are blue, box 2 contains 4 objects that are squares
%and box 3 containts 2 objects that have 3 dots/holes.

\subsection{Object pairing - easy version}
In this game, twelve objects with three categories are shown.
the user has to select three objects which have to fulfil the following.
For each category (color, shape and number of holes/dots) one of the following conditions has to hold:
\begin{itemize}
    \item They must be the same (blue, blue, blue)
    \item They must be completely different (square, triangle, circle)
\end{itemize}
[EXAMPLE]

If the player needs help, there is a helper bar which can be accessed by a button with a question mark on it.
The helper bar shows which categories fulfil the conditions and which do not
by coloring the category symbols on the bar in green or red.

The game is time limited. The remaining time is shown by a bar.
If you select three onjects which fulfil the conditions, more time will be added.
After a set amount of correct selected objects, the game will end.

If there are no three objects that fulfil the conditions, the playfield will be generated anew.

\subsection{Object pairing - normal version}
In this game, twelve objects with four categories are shown.
the user has to select three objects which have to fulfil the following.
For each category (color, filling, shape and number of holes/dots) one of the following conditions has to hold:
\begin{itemize}
    \item They must be the same (blue, blue, blue)
    \item They must be completely different (square, triangle, circle)
\end{itemize}
[EXAMPLE]

If the player needs help, there is a helper bar which can be accessed by a button with a question mark on it.
The helper bar shows which categories fulfil the conditions and which do not
by coloring the category symbols on the bar in green or red.

The game is time limited. The remaining time is shown by a bar.
If you select three onjects which fulfil the conditions, more time will be added.
After a set amount of correct selected objects, the game will end.

If there are no three objects that fulfil the conditions, the playfield will be generated anew.

\subsection{Score Screen}
After a task has been completed, there is going to be a score.
This score is represented here with a displayed number of stars.
The minimum of starts is zero and the maximum is three.
If the player is unhappy with his results, he can replay the game by clicking on the replay button.

\subsection{Introduction}
Before each game starts, a sample animation of the task beforehand is being shown.
The current scene is paused in the meantime, so that the user has enough time to find out what he has to do.

\section{Code structure of the learning environment}
[IMAGE OF STATE DIAGRAM]

Our learning environment consists of different scenes each one inheriting the base scene:
\subsection{BaseScene}
\subsection{PreloadAssets}
\subsection{DropDownScene}
\subsection{WelcomeScene}
\subsection{LevelMenuSceneScene}
\subsection{IntroScene}
\subsection{SortingScene}
\subsection{PropertySortingScene}
\subsection{RestrictedSortingScene}
\subsection{GameScene}
\subsection{ScoreScene}


\section{Final look of the learning environment}


\section{Checklist}

- overview of your solution. Give a good explanation of its rationale,
concepts and mechanisms. If your solution relies on a
theorem or some other undocumented concept, make sure
that you explain them before you carry on to the detailed
description.

The main part of this section is the thorough descrip-
tion of the solution and its functionality.
The description should not contain arguments on correctness or design de-
cision debates; simply, describe the mechanisms of your
solution and avoid explanations of the 'why so' type.
Dedicate a separate paragraph or two on the latter, if
you deem necessary.

Disassemble your solution to its functional components
and explain them separately. For example, if you describe
a distributed algorithm, explain the protocol-specific part
(message format, etc.) separately from the semantics and
decision-making part of the algorithm.
It is both important and useful to provide figures
demonstrating the functionality of your solution. Make
the figures look similar to the system model figure, if ap-
plicable, and exploit the similarities and differences to
point out important aspects of your solution.

Analysis can be of two types: qualitative and quantitative.
The former means to show some properties (qualities)
of your solution, while the latter means to show some
performance aspects of your solution.
Qualitative analysis is usually proof of correctness,
however it could be proof that the solution possesses some
desired property. For algorithms or protocols, a proof of
correctness is always welcome.
Quantitative analysis is mostly performance analysis.
It is important to explain what performance metric you
use and why you have selected the specific metric. Choos-
ing a metric that has been widely used will make the
comparison to other solutions easier.
